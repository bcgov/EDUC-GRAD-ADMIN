(function(e){function t(t){for(var s,n,i=t[0],l=t[1],d=t[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"1c17":function(e,t,a){"use strict";var s=a("7554"),r=a.n(s);r.a},"1e16":function(e,t,a){},"203d":function(e,t,a){"use strict";var s=a("25bb"),r=a.n(s);r.a},"25bb":function(e,t,a){},"2a4b":function(e,t,a){},"2d94":function(e,t,a){"use strict";var s=a("ae84"),r=a.n(s);r.a},"31a4":function(e,t,a){"use strict";var s=a("1e16"),r=a.n(s);r.a},"429f":function(e,t,a){e.exports=a.p+"img/bcid-logo-rev-en.fc4c71cf.svg"},"46d5":function(e,t,a){"use strict";var s=a("7f35"),r=a.n(s);r.a},"52a3":function(e,t,a){"use strict";var s=a("2a4b"),r=a.n(s);r.a},5586:function(e,t,a){"use strict";var s=a("88ba"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=a("2f62"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Bcheader",{staticClass:"bcheader",staticStyle:{"margin-bottom":"15px","text-transform":"capitalize"}},[a("a",{on:{click:e.toggleRole}},[e._v(e._s(e.role))])]),a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{staticClass:"min-nav d-md-none",attrs:{src:a("429f"),width:"200",height:"44",alt:"B.C. Government Logo"}}),e._m(0),s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary-nav burgernav"},[e._m(1),s("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarColor01"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(t){return e.selectStudent()}}},[e._v("Student search")])]),s("li",[s("router-link",{attrs:{to:"/admin-graduation-programs"}},[e._v("Program management")])],1),s("li",[s("router-link",{attrs:{to:"/courses"}},[e._v("Courses")])],1),s("li",[s("router-link",{attrs:{to:"/schools"}},[e._v("Schools")])],1),s("li",[s("router-link",{attrs:{to:"/psi"}},[e._v("PSI")])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri="+e.host}},[e._v("Logout")])])]),s("div",{staticClass:"float:right"},[e._t("default")],2)])]),s("nav",{staticClass:"navigation-main",attrs:{id:"navbar"}},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(t){return e.selectStudent()}}},[e._v("Student search")])]),s("li",[s("router-link",{attrs:{to:"/admin-graduation-programs"}},[e._v("Program Management")])],1),s("li",[s("router-link",{attrs:{to:"/courses"}},[e._v("Courses")])],1),s("li",[s("router-link",{attrs:{to:"/schools"}},[e._v("Schools")])],1),s("li",[s("router-link",{attrs:{to:"/psi"}},[e._v("PSI")])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri="+e.host}},[e._v("Logout")])]),s("li")]),s("div",{staticClass:"float-right",staticStyle:{"margin-top":"-20px"}},[e._t("default")],2)])])])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("div",{staticClass:"container"},[s("div",{staticClass:"banner"},[s("a",{staticClass:"navbar-brand",attrs:{href:"https://www2.gov.bc.ca"}},[s("img",{staticClass:"img-fluid d-none d-md-block",attrs:{src:a("429f"),width:"181",height:"44",alt:"B.C. Government Logo"}})]),s("h1",[e._v("Graduation Records and Achievement Data ")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],d=a("bc3a"),c=a.n(d),u=a("72bf"),p=a.n(u);const m=c.a.create({headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}});var h={logout(){null!=localStorage.getItem("jwt")&&(localStorage.removeItem("jwt"),localStorage.removeItem("refresh"))},handleSubmit(e,t){let a={client_id:Object({NODE_ENV:"production",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_KEYCLOAK_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_CLIENT_ID,client_secret:Object({NODE_ENV:"production",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_KEYCLOAK_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_CLIENT_SECRET,grant_type:Object({NODE_ENV:"production",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_KEYCLOAK_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_GRANT_TYPE,username:e,password:t},s=Object({NODE_ENV:"production",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_KEYCLOAK_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_AUTH_HOST;return m.post(s,p.a.stringify(a))}},g={data(){return{pen:"",host:location.protocol+"//"+location.host}},created(){},methods:{logout(){h.logout(),this.$store.commit("unsetStudent"),this.$router.push("logout")},selectStudent(){this.$store.commit("unsetStudent"),this.$router.push("/")}}},v=g,b=(a("2d94"),a("2877")),_=Object(b["a"])(v,i,l,!1,null,"6b99828c",null),f=_.exports,S={components:{Bcheader:f},computed:{...Object(r["b"])({role:"getRoles"})},methods:{toggleRole(){"administrator"==this.role?this.$store.dispatch("setRoles","authenticated"):"authenticated"==this.role&&this.$store.dispatch("setRoles","administrator")}}},C=S,A=(a("034f"),Object(b["a"])(C,o,n,!1,null,null,null)),P=A.exports,y=a("85ff"),k=a.n(y),w=a("1dce"),T=a.n(w),R=a("68ad"),E=a("8c4f"),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card col-sm-12 col-md-4 col-lg-4"},[a("div",{staticClass:"container pt-3 pb-4"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"id"}},[e._v("User ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],staticClass:"form-control form-control-lg",attrs:{id:"id",type:"text",required:"",autofocus:""},domProps:{value:e.id},on:{input:function(t){t.target.composing||(e.id=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:e.submit}},[e._v(" Login ")])])])])])])},N=[],G={name:"Login",data(){return{token:"",id:"",password:""}},created(){},computed:{...Object(r["b"])({getToken:"getToken"})},methods:{submit(e){e.preventDefault(),this.password.length>0&&h.handleSubmit(this.id,this.password).then(e=>{this.$store.dispatch("setToken",e.data.access_token)})}}},x=G,I=Object(b["a"])(x,O,N,!1,null,"883c9aac",null),D=I.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card col-sm-12 col-md-4 col-lg-4"},[a("div",{staticClass:"container pt-3 pb-4"},[a("h1",[e._v("Logout Successful")]),a("p",[e._v("Please login using the Login Portal if you require access")]),a("a",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F"}},[e._v("Login Portal")])])])])}],U={name:"Logout",data(){},created(){},computed:{},methods:{}},j=U,H=Object(b["a"])(j,L,M,!1,null,"559414d6",null),$=H.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"studentlist"},[a("h1",[e._v("Student search")]),a("p",[e._v("Search by Personal Education Number(PEN) or use the advanced search to look up students by other criteria.")]),a("div",[a("div",[a("b-card",{staticClass:"p-0",attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"PEN search",active:""}},[a("b-card-text",[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"search w-100"},[a("label",{staticClass:"float-left w-100",attrs:{for:"search-by-pen"}},[e._v("Search by PEN:")]),a("b-form-input",{ref:"penSearch",staticClass:"w-50 float-left",attrs:{id:"search-by-pen",type:"search",placeholder:"",tabindex:"1"},on:{keyup:e.keyHandler},model:{value:e.penInput,callback:function(t){e.penInput=t},expression:"penInput"}}),e.searchLoading?e._e():a("button",{staticClass:"btn btn-primary ml-2 float-left",on:{click:e.findStudentByPen}},[a("i",{staticClass:"fas fa-search"}),e._v(" Search ")]),e.searchLoading?a("button",{staticClass:" btn btn-primary ml-2 float-left"},[a("i",{staticClass:"fas fa-search"}),e._v(" Search ")]):e._e()],1),a("div",{staticClass:"search-results-message my-4"},[a("strong",[e.searchByPenMessage?a("span",[e._v(e._s(e.searchByPenMessage))]):e._e()])])])])])],1),a("b-tab",{attrs:{title:"Advanced search"}},[a("b-card-text",[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"advanced-search-form"},[a("div",{staticClass:"row my-3"},[a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Legal surname")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.legalLastName.contains},attrs:{href:"#",title:"Legal surname starts with"},on:{click:function(t){e.advancedSearchInput.legalLastName.contains=!e.advancedSearchInput.legalLastName.contains}}},[e._v(" [.*] ")]),a("b-input",{staticClass:"form__input",attrs:{placeholder:"",tabindex:"1"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.legalLastName.value,callback:function(t){e.$set(e.advancedSearchInput.legalLastName,"value",t)},expression:"advancedSearchInput.legalLastName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Legal given")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.legalFirstName.contains},attrs:{href:"#",title:"Legal given starts with"},on:{click:function(t){e.advancedSearchInput.legalFirstName.contains=!e.advancedSearchInput.legalFirstName.contains}}},[e._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"2"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.legalFirstName.value,callback:function(t){e.$set(e.advancedSearchInput.legalFirstName,"value",t)},expression:"advancedSearchInput.legalFirstName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Legal middle")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.legalMiddleNames.contains},attrs:{href:"#",title:"Legal middle starts with"},on:{click:function(t){e.advancedSearchInput.legalMiddleNames.contains=!e.advancedSearchInput.legalMiddleNames.contains}}},[e._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"3"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.legalMiddleNames.value,callback:function(t){e.$set(e.advancedSearchInput.legalMiddleNames,"value",t)},expression:"advancedSearchInput.legalMiddleNames.value"}})],1),a("div",{staticClass:"advanced-search-field  col-12 col-md-2"},[a("label",[e._v("Gender")]),a("b-form-select",{attrs:{options:e.genderOptions,tabindex:"4"},model:{value:e.advancedSearchInput.gender.value,callback:function(t){e.$set(e.advancedSearchInput.gender,"value",t)},expression:"advancedSearchInput.gender.value"}})],1),a("div",{staticClass:"form-group advanced-search-field col-12 col-md-2"},[a("label",{attrs:{for:"datepicker-birthdate-from form__label"}},[e._v("Birthdate from")]),a("b-input-group",{staticClass:"mb-3"},[a("b-form-input",{staticClass:"form__input",attrs:{id:"datepicker-birthdate-from",type:"date",placeholder:"YYYY-MM-DD",autocomplete:"off",tabindex:"6"},on:{input:e.$v.dateObject.$touch,keyup:e.keyHandler},model:{value:e.advancedSearchInput.birthdateFrom.value,callback:function(t){e.$set(e.advancedSearchInput.birthdateFrom,"value",t)},expression:"advancedSearchInput.birthdateFrom.value"}}),a("b-input-group-append",[a("b-form-datepicker",{attrs:{"button-only":"",right:"",locale:"en-US","aria-controls":"datepicker-birthdate-to"},model:{value:e.advancedSearchInput.birthdateFrom.value,callback:function(t){e.$set(e.advancedSearchInput.birthdateFrom,"value",t)},expression:"advancedSearchInput.birthdateFrom.value"}})],1)],1),e.$v.dateObject.maxValue?e._e():a("div",{staticClass:"error"},[e._v(" Birthdate from must not be greater than today. ")])],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",{attrs:{for:"datepicker-birthdate-to"}},[e._v("Birthdate to")]),a("b-input-group",{staticClass:"mb-3"},[a("b-form-input",{attrs:{id:"datepicker-birthdate-to",type:"date",placeholder:"YYYY-MM-DD",autocomplete:"off",tabindex:"6"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.birthdateTo.value,callback:function(t){e.$set(e.advancedSearchInput.birthdateTo,"value",t)},expression:"advancedSearchInput.birthdateTo.value"}}),a("b-input-group-append",[a("b-form-datepicker",{attrs:{"button-only":"",right:"",locale:"en-US","aria-controls":"datepicker-birthdate-to"},model:{value:e.advancedSearchInput.birthdateTo.value,callback:function(t){e.$set(e.advancedSearchInput.birthdateTo,"value",t)},expression:"advancedSearchInput.birthdateTo.value"}})],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Usual surname")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.usualLastName.contains},attrs:{href:"#",title:"Usual surname starts with"},on:{click:function(t){e.advancedSearchInput.usualLastName.contains=!e.advancedSearchInput.usualLastName.contains}}},[e._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"7"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.usualLastName.value,callback:function(t){e.$set(e.advancedSearchInput.usualLastName,"value",t)},expression:"advancedSearchInput.usualLastName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Usual given")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.usualFirstName.contains},attrs:{href:"#",title:"Usual given starts with"},on:{click:function(t){e.advancedSearchInput.usualFirstName.contains=!e.advancedSearchInput.usualFirstName.contains}}},[e._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"8"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.usualFirstName.value,callback:function(t){e.$set(e.advancedSearchInput.usualFirstName,"value",t)},expression:"advancedSearchInput.usualFirstName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Usual middle")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:e.advancedSearchInput.usualMiddleNames.contains},attrs:{href:"#",title:"Usual middle starts with"},on:{click:function(t){e.advancedSearchInput.usualMiddleNames.contains=!e.advancedSearchInput.usualMiddleNames.contains}}},[e._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"9"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.usualMiddleNames.value,callback:function(t){e.$set(e.advancedSearchInput.usualMiddleNames,"value",t)},expression:"advancedSearchInput.usualMiddleNames.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[e._v("Local ID")]),a("b-input",{attrs:{placeholder:"",tabindex:"10"},on:{keyup:e.keyHandler},model:{value:e.advancedSearchInput.localId.value,callback:function(t){e.$set(e.advancedSearchInput.localId,"value",t)},expression:"advancedSearchInput.localId.value"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"advanced-search-button"},[e.advancedSearchLoading?e._e():a("button",{class:this.$v.$invalid?"btn btn-secondary":"btn btn-primary",attrs:{tabindex:"12"},on:{click:function(t){return e.findStudentsByAdvancedSearch(1,e.resultsPerPage)}}},[e._v("Search")]),e.advancedSearchLoading?a("button",{staticClass:"btn btn-success",attrs:{tabindex:"12"},on:{click:function(t){return e.findStudentsByAdvancedSearch(1,e.resultsPerPage)}}},[e._v("Search")]):e._e(),a("button",{staticClass:"btn btn-outline-primary mx-2",on:{click:e.clearInput}},[e._v("Reset")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"search-results-message my-4 col-12 col-md-8"},[a("strong",[e.advancedSearchMessage?a("span",[e._v(e._s(e.advancedSearchMessage))]):e._e()])]),a("div",{staticClass:"results-option-group col-12 col-md-4"},[e.totalPages>1?a("label",[e._v("Results per page")]):e._e(),e.totalPages>1?a("b-form-select",{staticClass:"results-option",attrs:{options:e.resultsPerPageOptions,value:e.resultsPerPage},on:{change:function(t){return e.findStudentsByAdvancedSearch(1,e.resultsPerPage)}},model:{value:e.resultsPerPage,callback:function(t){e.resultsPerPage=t},expression:"resultsPerPage"}}):e._e()],1)])]),a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"table-responsive"},[e.studentSearchResults.length?a("DisplayTable",{attrs:{items:e.studentSearchResults,title:"Student search results",fields:e.studentSearchResultsFields,id:"pen",showFilter:!1},scopedSlots:e._u([{key:"cell(pen)",fn:function(t){return[a("router-link",{attrs:{to:"/student-profile/"+t.item.pen}},[e._v(e._s(t.item.pen))])]}}],null,!1,1894780210)}):e._e(),e.studentSearchResults.length?a("nav",{attrs:{"aria-label":"Pagination"}},[e.selectedPage<10?a("ul",{staticClass:"pagination"},[1!=e.selectedPage&&e.selectedPage>=5?a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return e.findStudentsByAdvancedSearch(1,e.resultsPerPage)}}},[e._v("First")])]):e._e(),e._l(10,(function(t){return a("li",{key:t,class:{"page-item":!0,active:t==e.selectedPage}},[e.paginationRange(t)?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return e.findStudentsByAdvancedSearch(t,e.resultsPerPage)}}},[e._v(e._s(t))]):e._e()])})),e.selectedPage!=e.totalPages&&10!=e.totalPages&&e.selectedPage+5<=e.totalPages?a("li",[a("a",{staticClass:"page-link disabled"},[e._v("...")])]):e._e(),e.selectedPage!=e.totalPages&&10!=e.totalPages&&e.selectedPage+5<=e.totalPages?a("li",[a("a",{staticClass:"page-link",class:{"page-item":!0,active:e.index==e.selectedPage},attrs:{href:"#"},on:{click:function(t){return e.findStudentsByAdvancedSearch(e.totalPages,e.resultsPerPage)}}},[e._v(e._s(e.totalPages))])]):e._e()],2):e._e(),e.selectedPage>=10?a("ul",{staticClass:"pagination"},[a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return e.findStudentsByAdvancedSearch(1,e.resultsPerPage)}}},[e._v("First")])]),a("li",[a("a",{staticClass:"page-link disabled"},[e._v("...")])]),e._l(10,(function(t){return a("li",{key:t,class:{"page-item":!0,active:e.selectedPage-5+t==e.selectedPage}},[e.paginationRange(e.selectedPage-5+t)?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return e.findStudentsByAdvancedSearch(e.selectedPage-5+t,e.resultsPerPage)}}},[e._v(e._s(e.selectedPage-5+t))]):e._e()])})),e.selectedPage!=e.totalPages&&e.selectedPage+6<e.totalPages?a("li",[a("a",{staticClass:"page-link disabled"},[e._v("...")])]):e._e(),e.selectedPage!=e.totalPages&&6!=e.totalPages&&e.selectedPage+6<=e.totalPages?a("li",[a("a",{staticClass:"page-link",class:{"page-item":!0,active:e.index==e.selectedPage},attrs:{href:"#"},on:{click:function(t){return e.findStudentsByAdvancedSearch(e.totalPages,e.resultsPerPage)}}},[e._v(e._s(e.totalPages))])]):e._e()],2):e._e()]):e._e()],1)])],1)],1)],1)],1)],1)])])},B=[],V=c.a.create({baseURL:"/api/students"}),q={getStudentByPen(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return V.get("/api/v1/pen/"+e,{headers:a})},getStudentsByAdvancedSearch(e,t,a=0,s=10){const r={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};let o="";for(var n in e)if(e.hasOwnProperty(n)&&e[n].value){let t=e[n].contains?"*":"";o+=n+"="+e[n].value+t+"&"}return V.get("/api/v1/studentsearch?"+o+"pageSize="+s+"&pageNumber="+a,{headers:r})}},z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"m-0 p-0",attrs:{fluid:""}},[a("b-button-toolbar",{staticClass:"float-left",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"mx-1"},["administrator"==e.role&&e.createAllowed?a("b-button",{staticClass:"float-left",attrs:{variant:"success",size:"sm"},on:{click:function(t){e.addMode=!e.addMode}}},[e._v(e._s(e.addMode?"Cancel":"Add "+e.title)+" ")]):e._e(),e.isAdmin&&e.updateAllowed?a("b-btn",{staticClass:"float-right",class:(this.quickEdit,"btn-primary"),attrs:{size:"sm"},on:{click:e.toggleQuickEdit}},[e._v("Edit")]):e._e()],1)],1),a("b-row",[a("b-col",{staticClass:"px-0 float-left",attrs:{lg:"7"}}),this.showFilter?a("b-col",{staticClass:"my-1 table-filter",attrs:{sm:"12",lg:"5"}},[a("b-form-group",{staticClass:"mb-0 form-group-label",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",[a("div",{staticClass:"filter-icon p-2 text-secondary"},[a("i",{staticClass:"fas fa-filter"})]),a("b-form-input",{attrs:{id:"filter-input",size:"md",type:"search",placeholder:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{staticClass:"mr-10 clear-button",attrs:{size:"md",disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1):e._e()],1),e.addMode?a("b-row",{staticClass:"card my-4",attrs:{lg:"12"}},[a("b-card",{staticClass:"mb-1 mt-1",attrs:{title:"Add"+e.title}},[a("b-card-text",[e._l(this.fields,(function(t){return a("div",{key:t.key,staticClass:"col-6"},["delete"!=t.key&&"actions"!=t.key&&"more"!=t.key&&t.editable?a("div",[e._v(" "+e._s(t.label)+" "),a("b-input",{model:{value:e.itemToAdd[t.key],callback:function(a){e.$set(e.itemToAdd,t.key,a)},expression:"itemToAdd[field.key]"}})],1):e._e()])})),a("div",{staticClass:"col-12 my-3"},[a("b-button-toolbar",{staticClass:"float-left",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button",{staticClass:"float-left btn-outline-primary",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.cancelAddItem}},[e._v("Cancel")]),a("b-button",{staticClass:"float-left",attrs:{variant:"success",size:"sm"},on:{click:e.addItem}},[a("i",{staticClass:"fas fa-plus"}),e._v(" Add")])],1)],1)],2)],1)],1):e._e(),a("b-table",{attrs:{responsive:e.responsive,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"sm","sticky-header":"","show-empty":"",striped:"",hover:"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([e._l(e.editableFields,(function(t){return{key:"cell("+t.key+")",fn:function(t){var s=t.value,r=t.item,o=t.field;return[e.itemRow&&e.itemRow[e.id]===r[e.id]&&!e.deleteMode?a("b-input",{key:o.key,staticClass:"pl-2",staticStyle:{height:"auto",padding:"0px"},attrs:{type:o.type||"text",number:o.isNumber},on:{keyup:e.validateInput},model:{value:e.itemRow[o.key],callback:function(t){e.$set(e.itemRow,o.key,t)},expression:"itemRow[field.key]"}}):e.itemRow&&e.itemRow[e.id]===r[e.id]&&e.deleteMode?[a("div",{key:o.key},[a("del",{staticClass:"text-danger"},[e._v(e._s(s))])])]:[e.quickEdit?a("div",{key:o.key,staticClass:"px-2",on:{click:function(t){return e.edit(r)}}},[e._v(" "+e._s(s)+" ")]):e._e(),e.quickEdit?e._e():a("div",{key:o.key,staticClass:"px-2"},[e._v(" "+e._s(s)+" ")])]]}}})),{key:"cell(actions)",fn:function(t){var s=t.item;return[e.itemRow&&e.itemRow[e.id]===s[e.id]&&e.editMode?a("b-button-group",[a("b-btn",{staticStyle:{width:"60px"},attrs:{variant:"success",size:"sm"},on:{click:e.saveEdit}},[e._v(" Save ")])],1):e._e()]}},e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}})),{key:"cell(delete)",fn:function(t){var s=t.item;return[e.itemRow&&e.itemRow[e.id]===s[e.id]&&e.deleteMode?a("b-button-group",[a("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" Delete ")])],1):"administrator"==e.role&&e.quickEdit?a("b-btn",{staticClass:"square",attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.confirmDelete(s)}}},[a("i",{staticClass:"fas fa-lg fa-times"})]):e._e()]}}],null,!0)}),a("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":""},on:{hide:e.resetInfoModal}},[a("pre",[e._v(e._s(e.infoModal.content))])])],1)},Y=[],K={props:["items","title","fields","id","create","update","delete","slots","showFilter"],data(){return{responsive:!0,quickEdit:!1,isAdmin:!1,updateAllowed:!1,deleteAllowed:!1,createAllowed:!1,editMode:!1,deleteMode:!0,addMode:!1,itemToAdd:[],showConfirm:!1,checked:"false",itemRow:null,tableFields:"notloaded",editItem:"notloaded",totalRows:1,currentPage:1,perPage:100,pageOptions:[10,20,50,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""}}},computed:{...Object(r["b"])({role:"getRoles"}),editableFields(){return this.fields.filter(e=>e.editable)},sortOptions(){return this.fields.filter(e=>e.sortable).map(e=>({text:e.label,value:e.key}))}},created(){window.addEventListener("keyup",this.validateInput),this.setAdmin(this.role),this.create&&this.isAdmin&&(this.createAllowed=!0),this.update&&this.isAdmin&&(this.updateAllowed=!0,this.fields.push({key:"actions",class:"d-none",label:"Edit"})),this.delete&&this.isAdmin&&(this.deleteAllowed=!0,this.fields.push({key:"delete",class:"d-none",label:"Delete"})),this.itemToAdd={...this.items[0]};for(var e=0;e<this.fields.length;e++)this.itemToAdd[this.fields[e].key]=""},mounted(){this.totalRows=this.items.length},methods:{toggleQuickEdit(){this.quickEdit=!this.quickEdit,this.resetEdit(),this.quickEdit?(this.fields[this.fields.length-1].class="d-block",this.fields[this.fields.length-2].class="d-block"):(this.fields[this.fields.length-1].class="d-none",this.fields[this.fields.length-2].class="d-none")},validateInput:function(e){27===e.keyCode?this.editMode?this.resetEdit():this.deleteMode&&this.cancelDelete():13===e.keyCode&&this.quickEdit&&this.editMode&&this.saveEdit()},setAdmin(e){this.isAdmin="administrator"==e},addItem(){var e=this.itemToAdd;this.items.push(e),this.addMode=!1,this.$bvToast.toast("Record was Added",{title:"Success",variant:"success"}),this.$store.dispatch(this.create,this.itemToAdd)},cancelAddItem(){this.addMode=!1},deleteItem(e){this.$store.dispatch(this.delete,e[this.id]),this.items.splice(this.items.indexOf(e),1),this.$bvToast.toast("Record was deleted",{title:"Success",variant:"success"}),this.cancelDelete(),this.deleteMode=!1},confirmDelete(e){this.deleteMode=!0,this.editMode=!1;let t=!0;this.itemRow&&!confirm("You have unsaved changes, are you sure you want to continue?")&&(t=!1),t&&(this.itemRow={...e})},edit(e){this.editMode=!0,this.deleteMode=!1;let t=!0;this.quickEdit||this.itemRow&&!confirm("You have unsaved changes, are you sure you want to continue?")&&(t=!1),t&&(this.itemRow={...e})},saveEdit(){let e=this.items.find(e=>e[this.id]===this.itemRow[this.id]);Object.assign(e,this.itemRow),this.$store.dispatch(this.update,e),this.resetEdit(),this.$bvToast.toast("Record was saved/updated",{title:"Success",variant:"success"})},cancelDelete(){this.itemRow=null,this.deleteMode=!1},resetEdit(){this.itemRow=null,this.editMode=!1},info(e,t,a){this.infoModal.title="Row index: "+t,this.infoModal.content=JSON.stringify(e,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""},onFiltered(e){this.totalRows=e.length,this.currentPage=1}}},W=K,J=(a("f4dc"),Object(b["a"])(W,z,Y,!1,null,"5cbfb870",null)),X=J.exports,Q=a("b5ae"),Z={name:"studentSearch",data(){return{resultsPerPageOptions:[{value:10,text:"10"},{value:25,text:"25"},{value:50,text:"50"},{value:100,text:"100"}],genderOptions:[{value:"M",text:"Male (M)"},{value:"F",text:"Female (F)"},{value:"X",text:"Gender diverse (X)"},{value:"U",text:"Unknown (U)"}],studentSearchResults:[],studentSearchResultsFields:[{key:"pen",label:"PEN",sortable:!1,editable:!1,class:"w-1"},{key:"legalLastName",label:"Legal surname",sortable:!1,editable:!1,class:"w-1"},{key:"legalFirstName",label:"Legal given",sortable:!1,editable:!1,class:"w-1"},{key:"usualLastName",label:"Usual surname",sortable:!1,editable:!1,class:"w-1"},{key:"legalMiddleNames",label:"Legal middle",sortable:!1,editable:!1,class:"w-1"},{key:"usualFirstName",label:"Usual given",sortable:!1,editable:!1,class:"w-1"},{key:"usualMiddleNames",label:"Usual middle",sortable:!1,editable:!1,class:"w-1"},{key:"dob",label:"Birthdate",sortable:!0,editable:!1,class:"w-1"},{key:"genderCode",label:"Gender",sortable:!0,editable:!1,class:"w-1"},{key:"schoolName",label:"School (SLD)",sortable:!0,editable:!1,class:"w-1"},{key:"program",label:"Program (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"studentGrade",label:"Student Grade (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"schoolOfRecord",label:"School of Record (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"schoolOfRecordName",label:"School of Record name (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"studentStatus",label:"Student Status (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"schoolOfRecordindependentAffiliation",label:"School independent affiliation (GRAD)",sortable:!0,editable:!1,class:"w-1"}],totalElements:"",resultsPerPage:25,totalPages:"",selectedPage:1,searchByPenMessage:"",advancedSearchMessage:"",errorMessage:"",penInput:"",selectedPen:"",variants:["success"],searchLoading:!1,advancedSearchLoading:!1,showAdvancedSearchForm:!1,advancedSearchInput:{legalFirstName:{value:"",contains:!1},legalLastName:{value:"",contains:!1},legalMiddleNames:{value:"",contains:!1},gender:{value:"",contains:!1},localId:{value:"",contains:!1},birthdateFrom:{value:"",contains:!1,error:!1},birthdateTo:{value:"",contains:!1},usualFirstName:{value:"",contains:!1},usualLastName:{value:"",contains:!1},usualMiddleNames:{value:"",contains:!1}}}},validations:{dateObject:{maxValue:Object(Q["maxValue"])(new Date)}},created(){},components:{DisplayTable:X},computed:{dateObject(){let e=new Date(this.advancedSearchInput.birthdateFrom.value);return this.advancedSearchInput.birthdateFrom.value?e:null},...Object(r["b"])({profile:"getStudentProfile",courses:"getStudentCourses",exams:"getStudentExams",gradStatus:"getStudentGradStatus",token:"getToken"})},methods:{paginationRange(e){return!(e>this.totalPages)},keyHandler:function(e){13===e.keyCode&&(this.studentSearchResults=[],this.penInput?this.findStudentByPen():this.surnameInput&&this.findStudentBySurname())},findStudentByPenSample:function(e){this.penInput=e,this.findStudentByPen()},findStudentByPen:function(){this.penInput&&(this.searchByPenMessage="",this.searchLoading=!0,this.studentSearchResults=[],q.getStudentByPen(this.penInput,this.token).then(e=>{e.data&&this.selectStudent(e.data)}).catch(()=>{this.searchLoading=!1,this.searchByPenMessage="Student cannot be found on the STUDENT (PEN) database"}))},findStudentsByAdvancedSearch:function(e=1,t=25){if(this.selectedPage=e,0!=e&&(e-=1),this.advancedSearchMessage="",this.message="",this.errorMessage="",this.$v.$touch(),this.$v.$invalid)this.advancedSearchMessage+="Form Validation Error: please correct the form input";else if(!this.$v.$invalid&&this.advancedSearchValidate(this.advancedSearchInput)){this.advancedSearchLoading=!0,this.studentSearchResults=[],this.advancedSearchInput.birthdateTo.value||(this.advancedSearchInput.birthdateTo.value=this.advancedSearchInput.birthdateFrom.value);try{q.getStudentsByAdvancedSearch(this.advancedSearchInput,this.token,e,t).then(e=>{this.advancedSearchLoading=!1,this.searchResults=e.data,this.studentSearchResults=e.data.gradSearchStudents,this.totalElements=this.searchResults.totalElements,this.totalPages=this.searchResults.totalPages,this.searchResults.totalElements>0?1==this.searchResults.totalElements?this.advancedSearchMessage="1 student record found. ":this.advancedSearchMessage=this.searchResults.totalElements+" student records found. ":this.advancedSearchMessage="No student record found."}).catch(e=>{this.advancedSearchLoading=!1,this.advancedSearchMessage="Student not found",this.errorMessage=e})}catch(a){this.advancedSearchLoading=!1,this.advancedSearchMessage="Advanced Search Error"}}},showAdvancedSearch:function(){this.showAdvancedSearchForm=!0},selectStudent:function(e){this.selectedPen=e[0].pen,this.$router.push({path:"/student-profile/"+this.selectedPen})},clearStudent:function(){},clearInput:function(){for(var e in this.penInput="",this.advancedSearchInput)this.advancedSearchInput.hasOwnProperty(e)&&(this.advancedSearchInput[e].value="",this.advancedSearchInput[e].contains=!1)},advancedSearchValidate(e){let t=!0,a=!0;for(var s in e)if(e.hasOwnProperty(s)&&""!=e[s].value&&(a=!1,"birthdateFrom"==s)){let a=Date.parse(e[s].value),r=new Date;a>r&&(this.advancedSearchMessage+="The Birthdate From must be greater than today. ",t=!1)}return a&&(t=!1,this.advancedSearchMessage+="Enter at least one field to search."),t},isEmpty(e){let t=!0;for(var a in e)e.hasOwnProperty(a)&&""!=e[a]&&(t=!1);return t}}},ee=Z,te=(a("967a"),Object(b["a"])(ee,F,B,!1,null,"13daae02",null)),ae=te.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.displayMessage?a("SiteMessage",{attrs:{message:this.displayMessage}}):e._e(),a("div",{staticClass:"row p-3 m-0"},[a("div",{staticClass:"col-md-11 col-12"},[e.smallScreen?e._e():a("table",{staticClass:"profile-name"},[e._m(0),a("tr",[e.studentFullName.pen?a("td",{staticClass:"align-top profile-name-data"},[a("strong",[a("p",{staticClass:"profile-info"},[e._v(e._s(e.studentFullName.pen))])])]):e._e(),e.studentFullName.legalLastName?a("td",{staticClass:"align-top profile-name-data"},[a("p",{staticClass:"profile-info"},[e._v(e._s(e.studentFullName.legalLastName))])]):e._e(),e.studentFullName.legalFirstName?a("td",{staticClass:"align-top profile-name-data"},[a("p",{staticClass:"profile-info"},[e._v(e._s(e.studentFullName.legalFirstName))])]):e._e(),e.studentFullName.legalMiddleNames?a("td",{staticClass:"align-top profile-name-data"},[a("p",{staticClass:"profile-info"},[e._v(e._s(e.studentFullName.legalMiddleNames))])]):e._e()])]),e.smallScreen?a("div",{staticClass:"profile-name"},[e.studentFullName.pen?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[e._v("PEN")]),a("h2",{staticClass:"px-0"},[e._v(e._s(e.studentFullName.pen))])]):e._e(),e.studentFullName.legalLastName?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[e._v("Legal surname")]),a("h2",{staticClass:"px-0"},[e._v(e._s(e.studentFullName.legalLastName))])]):e._e(),e.studentFullName.legalFirstName?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[e._v("Legal given")]),a("h2",{staticClass:"px-0"},[e._v(e._s(e.studentFullName.legalFirstName))])]):e._e(),e.studentFullName.legalMiddleNames?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[e._v("Legal middle")]),a("h2",{staticClass:"px-0"},[e._v(e._s(e.studentFullName.legalMiddleNames))])]):e._e()]):e._e(),a("StudentInfo")],1),a("div",{staticClass:"col-md-1 col-12"},[a("div",{staticClass:"row px-0"},[a("b-button",{staticClass:"col-6 col-md-12 close-record",attrs:{variant:"primary",size:"sm"},on:{click:e.closeRecord}},[e._v(" Close ")])],1)])]),a("div",{staticClass:"row col-12 p-3 m-0"},[e.smallScreen?e._e():a("div",{staticClass:"col-4"},[a("StudentGraduationStatus")],1),a("div",{staticClass:"col-md-12 col-lg-8 px-0"},[a("div",[e.studentHasCourses||e.studentHasAssessments?a("b-card",{staticClass:"py-0"},[a("b-tabs",{attrs:{pills:e.smallScreen}},[e.smallScreen?a("b-tab",{ref:"studentCoursesTab",staticClass:"py-3 px-0 m-1 ",attrs:{title:"Graduation Status"}},[a("b-card-text",[a("StudentGraduationStatus")],1)],1):e._e(),e.studentHasCourses?a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Courses"}},[e.studentHasCourses?a("b-card-text",[a("StudentCourses")],1):e._e()],1):e._e(),e.studentHasAssessments?a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Assessments"}},[a("b-card-text",[a("StudentAssessments")],1)],1):e._e(),"not loaded"==this.courses||"not loaded"==this.assessments?a("b-tab",{staticClass:"tab-loading py-3 px-0 m-1",attrs:{title:"Loading ..."}},[a("b-card-text",{staticClass:"text-center"},[e._v("Loading Student Courses and Assesments")])],1):e._e()],1)],1):e._e()],1)])])],1)},re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{staticClass:"align-top profile-name-header"},[a("label",[e._v("PEN")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[e._v("Legal surname")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[e._v("Legal given")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[e._v("Legal middle")])])])}];const oe=c.a.create({baseURL:"/api/course-achievement"});var ne={getStudentCourseAchievements(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return oe.get("/api/v1/studentcourse/pen/"+e+"?sortForUI=true",{headers:a})}};const ie=c.a.create({baseURL:"/api/student-assessments"});var le={getStudentAssessment(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return ie.get("/api/v1/studentassessment/pen/"+e,{headers:a})}};const de=c.a.create({baseURL:"/api/graduation-status"});var ce={getGraduationStatus(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return de.get("/api/v1/gradstatus/pen/"+e,{headers:a})},editGraduationStatus(e,t,a){const s={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return de.post("/api/v1/gradstatus/gradstudent/pen/"+e,a,{headers:s})}},ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"alert alert-dismissible alert-success"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[e._v("×")]),a("div",{staticClass:"message"},[a("strong",[a("div",{domProps:{innerHTML:e._s(e.message)}})])])])])},pe=[],me={props:{message:String},created(){this.message=this.$route.params.message}},he=me,ge=(a("fe78"),Object(b["a"])(he,ue,pe,!1,null,"c6d942a4",null)),ve=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-responsive"},[a("DisplayTable",{attrs:{items:e.courses,fields:e.fields,showFilter:"yes"},scopedSlots:e._u([{key:"thead-top",fn:function(t){return[a("b-tr",{staticClass:"table-row-header-group"},[a("b-th",{staticClass:"table-header-group text-center",attrs:{colspan:"1"}}),a("b-th",{staticClass:"table-header-group text-center",attrs:{colspan:"3"}},[a("div",[e._v("Course")])]),a("b-th",{staticClass:"table-header-group text-center",attrs:{colspan:"2"}},[a("div",[e._v("Interim")])]),a("b-th",{staticClass:"table-header-group text-center",attrs:{colspan:"2"}},[a("div",[e._v("Final")])]),a("b-th",{attrs:{colspan:"1"}},[e._v("Eq/")]),a("b-th",{attrs:{colspan:"1"}}),a("b-th",{attrs:{colspan:"1"}},[e._v("Fa")])],1)]}},{key:"cell(courseName)",fn:function(t){return[a("div",{staticClass:"d-flex flex-column text-md-left"},[a("div",{},[a("b-button",{staticClass:"m-0 p-0 text-left",attrs:{id:"popover-button-event"+t.item.courseCode+t.item.courseLevel+t.item.sessionDate,variant:"link"}},[e._v(" "+e._s(t.item.courseName)+" ")])],1),a("b-popover",{ref:"popover"+t.item.courseCode+t.item.courseLevel+t.item.sessionDate,attrs:{triggers:"focus",target:"popover-button-event"+t.item.courseCode+t.item.courseLevel+t.item.sessionDate,title:t.item.courseName}},[a("table",[a("tr",[a("td",[a("strong",[e._v("Code:")]),e._v(" "+e._s(t.item.courseDetails.courseCode))])]),a("tr",[a("td",[a("strong",[e._v("Course Level:")]),e._v(" "+e._s(t.item.courseDetails.courseLevel))])]),a("tr",[a("td",[a("strong",[e._v("Course Name:")]),a("br"),e._v(" "+e._s(t.item.courseDetails.courseName))])]),a("tr",[a("td",[a("strong",[e._v("Language:")]),e._v(" "+e._s(t.item.courseDetails.language))])]),a("tr",[a("td",[a("strong",[e._v("Start Date:")]),e._v(" "+e._s(t.item.courseDetails.startDate))])]),a("tr",[a("td",[a("strong",[e._v("Work Experience:")]),e._v(" "+e._s(t.item.courseDetails.workExpFlag))])]),a("tr",[a("td",[a("strong",[e._v("Generic Course Type:")]),e._v(" "+e._s(t.item.courseDetails.genericCourseType))])])])])],1)]}},{key:"cell(more)",fn:function(t){return["Y"==t.item.hasRelatedCourse?a("b-btn",{staticClass:"more-button",staticStyle:{color:"#666"},attrs:{variant:"outline primary",size:"sm"},on:{click:t.toggleDetails}},[a("i",{staticClass:"fas fa-sm fa-caret-down"})]):e._e()]}},{key:"row-details",fn:function(t){return[a("b-card",{staticClass:"px-0"},[a("ul",[t.item.relatedCourse?a("li",[a("strong",[e._v("Related Course:")]),e._v(" "+e._s(t.item.relatedCourse)+" ")]):e._e(),t.item.relatedLevel?a("li",[a("strong",[e._v("Related Course Level:")]),e._v(" "+e._s(t.item.relatedLevel)+" ")]):e._e(),t.item.relatedCourseName?a("li",[a("strong",[e._v("Related Course Name:")]),e._v(" "+e._s(t.item.relatedCourseName)+" ")]):e._e(),t.item.alternateCourseName?a("li",[a("strong",[e._v("Alternate Course Name:")]),e._v(" "+e._s(t.item.alternateCourseName)+" ")]):e._e(),t.item.bestSchoolPercent?a("li",[a("strong",[e._v("Best School Percent:")]),e._v(" "+e._s(t.item.bestSchoolPercent)+" ")]):e._e(),t.item.bestExamPercent?a("li",[a("strong",[e._v("Best Exam Percent:")]),e._v(" "+e._s(t.item.bestExamPercent)+" ")]):e._e(),t.item.metLitNumRequirement?a("li",[a("strong",[e._v("Assessment Equivalent:")]),e._v(" "+e._s(t.item.metLitNumRequirement)+" ")]):e._e()])])]}}])})],1)])},_e=[],fe={name:"StudentCourses",components:{DisplayTable:X},props:{},computed:{...Object(r["b"])({courses:"getStudentCourses",gradStatusCourses:"gradStatusCourses",studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",hasGradStatusPendingUpdates:"getHasGradStatusPendingUpdates"})},data:function(){return{fields:[{key:"more",label:""},{key:"courseCode",label:"Code",sortable:!0,sortDirection:"desc"},{key:"courseLevel",label:"Lvl",sortable:!0,class:"text-left"},{key:"sessionDate",label:"Session",sortable:!0,sortDirection:"desc"},{key:"interimPercent",label:"%",sortable:!0,sortDirection:"desc",class:"text-md-right"},{key:"interimLetterGrade",label:"LG",sortable:!0,sortDirection:"desc",class:"text-md-left"},{key:"completedCoursePercentage",label:"%",class:"text-md-right ",sortable:!0,sortDirection:"desc"},{key:"completedCourseLetterGrade",label:"LG",class:"text-md-left",sortable:!0,sortDirection:"desc"},{key:"equivOrChallenge",label:"Ch",sortable:!0,sortDirection:"desc"},{key:"credits",label:"Cred",sortable:!0,class:"text-center"},{key:"fineArtsAppliedSkills",label:"As",sortable:!0,class:"text-left"},{key:"courseName",label:"Course Name",sortable:!0,class:"text-left"}],gradStatusPendingUpdates:[],show:!1,opened:[],message:"",achievements:[],InputCourse:"",student:[],InputPen:"",filters:{name:{value:"",keys:["courseCode"]}},pen:"",sessionDate:"",finalPercent:"",interimPercent:"",finalLetterGrade:"",credits:"",courseId:"",courseType:"",interimLetterGrade:"",currentPage:1,totalPages:0,displayMessage:null,modalVisible:null,inputPenMissing:!1,count:0}},created(){},methods:{toggle(e){const t=this.opened.indexOf(e);t>-1?this.opened.splice(t,1):this.opened.push(e)},checkForPendingUpdates(){let e=0,t=0;if(this.hasGradStatus){for(e=0;e<this.courses.length;e++)this.courses[e].gradReqMet=this.getProgramCode(this.courses[e]);for(e=0;e<this.gradStatusCourses.length;e++){let a=!0;for(t=0;t<this.courses.length;t++)if(this.courses[t].courseCode+this.courses[t].courseLevel+this.courses[t].sessionDate+this.courses[t].pen==this.gradStatusCourses[e].courseCode+this.gradStatusCourses[e].courseLevel+this.gradStatusCourses[e].sessionDate+this.gradStatusCourses[e].pen){a=!1;break}a&&this.gradStatusPendingUpdates.push(this.gradStatusCourses[e].courseName+"REMOVED")}this.gradStatusPendingUpdates.length?this.$store.dispatch("setHasGradStatusPendingUpdates",!0):this.$store.dispatch("setHasGradStatusPendingUpdates",!1)}},compareCourses(e,t){return this.fields.forEach((function(a){if(e[a]!=t[a])return!1})),!0},getProgramCode(e){var t=this.gradStatusCourses.filter((function(t){return t.pen+t.courseCode+t.courseLevel+t.sessionDate==e.pen+e.courseCode+e.courseLevel+e.sessionDate}));return t.length?t[0].gradReqMet?this.compareCourses(t[0],e)?t[0].gradReqMet:(this.gradStatusPendingUpdates.push(e.courseName+"UPDATED"),"TBD - Modified"):"---":(this.gradStatusPendingUpdates.push(e.courseName+" ADDED"),"TBD - New Course Added")},createRef(e,t,a,s){return e.trim()+t.trim()+a.trim()+s.trim()}}},Se=fe,Ce=(a("bc40"),Object(b["a"])(Se,be,_e,!1,null,null,null)),Ae=Ce.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"student-info"},[a("div",[a("strong",[e._v("Birthdate:")]),e._v(" "+e._s(e.studentInfo.dob))])])])},ye=[],ke={name:"StudentInfo",computed:{...Object(r["b"])({studentInfo:"getStudentProfile"})},created(){}},we=ke,Te=(a("e7b1"),Object(b["a"])(we,Pe,ye,!1,null,"0bb7eb64",null)),Re=Te.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("DisplayTable",{attrs:{items:e.assessments,fields:e.fields,showFilter:"true"},scopedSlots:e._u([{key:"cell(assessmentName)",fn:function(t){return[a("div",{staticClass:"d-flex flex-column text-md-left"},[a("div",{},[a("b-button",{staticClass:"m-0 p-0 text-left",attrs:{id:"popover-button-event"+t.item.assessmentCode+t.item.sessionDate,variant:"link"}},[e._v(" "+e._s(t.item.assessmentName)+" ")])],1),a("b-popover",{ref:"popover"+t.item.assessmentCode+t.item.sessionDate,attrs:{triggers:"focus",target:"popover-button-event"+t.item.assessmentCode+t.item.sessionDate,title:t.item.assessmentName}},[a("table",[a("tr",[a("td",[a("strong",[e._v("Assessment Code:")]),e._v(" "+e._s(t.item.assessmentDetails.assessmentCode))])]),a("tr",[a("td",[a("strong",[e._v("Asessment Name:")]),a("br"),e._v(" "+e._s(t.item.assessmentDetails.assessmentName)+" ")])]),a("tr",[a("td",[a("strong",[e._v("Language:")]),e._v(" "+e._s(t.item.assessmentDetails.language))])]),a("tr",[a("td",[a("strong",[e._v("Start Date:")]),e._v(" "+e._s(t.item.assessmentDetails.startDate))])]),a("tr",[a("td",[a("strong",[e._v("End Date:")]),e._v(" "+e._s(t.item.assessmentDetails.endDate))])])])])],1)]}},{key:"cell(more)",fn:function(t){return["Y"==t.item.hasRelatedCourse?a("b-btn",{staticStyle:{color:"#666"},attrs:{variant:"outline primary",size:"xs"},on:{click:t.toggleDetails}},[a("i",{staticClass:"fas fa-sm fa-caret-down"})]):e._e()]}},{key:"row-details",fn:function(t){return[a("b-card",{staticClass:"px-0"},[a("table",[a("tbody",[a("tr",[a("td",[e._v("Related Course: "+e._s(t.item.relatedCourse))])]),a("tr",[a("td",[e._v("Related Levelt: "+e._s(t.item.relatedLevel))])]),a("tr",[a("td",[e._v("Alternate Course Name: "+e._s(t.item.relatedCourse))])]),a("tr",[a("td",[e._v("Best School Percent: "+e._s(t.item.bestSchoolPercent))])]),a("tr",[a("td",[e._v("Best Exam Percentt: "+e._s(t.item.bestExamPercent))])]),a("tr",[a("td",[e._v("Assessment Equivt: "+e._s(t.item.genericCourseType)+" ")])])])])])]}}])})],1)},Oe=[],Ne={name:"StudentAssessments",components:{DisplayTable:X},props:{},computed:{...Object(r["b"])({assessments:"getStudentAssessments"})},data:function(){return{fields:[{key:"more",label:""},{key:"assessmentCode",label:"Code",sortable:!0,sortDirection:"desc",class:"text-md-left"},{key:"sessionDate",label:"Session",sortable:!0,class:"text-md-center"},{key:"specialCase",label:"Special Case",sortable:!0,sortDirection:"desc"},{key:"exceededWriteFlag",label:"Exceeded Writes",sortable:!0,sortDirection:"desc",class:"text-md-center"},{key:"proficiencyScore",label:"Proficiency Score",sortable:!0,sortDirection:"desc",class:"text-md-center"},{key:"assessmentName",label:"Name",sortable:!0,sortDirection:"desc",class:"text-left w-50"}]}},methods:{}},Ge=Ne,xe=(a("31a4"),Object(b["a"])(Ge,Ee,Oe,!1,null,null,null)),Ie=xe.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.hasGradStatus?e._e():a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left",attrs:{block:"",variant:"primary"}},[e._v(" Graduation information")]),a("b-card-body",[a("b-card-text",[e.hasGradStatus?e._e():a("div",[e._v(" "+e._s(e.studentFullName.legalFirstName)+" found on the Student (common) database "),a("strong",[e._v("but does not have a GRAD system record")])])])],1)],1),e.hasGradStatus?a("div",{staticClass:"accordion col-12 px-0 mx-0",attrs:{role:"tablist"}},[a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left pt-4 gov-btn",attrs:{block:"",variant:"info"}},[e._v(" Student GRAD record")]),a("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("div",{staticClass:"row"},[a("div",{staticClass:"graduation-status-content col-12 px-0 mx-0"},[a("div",[a("div",{staticClass:"col-12 header"},[a("h2",[e._v("Graduation status")]),"administrator"==this.role?a("b-button-group",{staticClass:"gradstatus-actions float-right"},[e.showEdit?e._e():a("div"),e.showEdit?a("div",[a("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){return e.saveEditedGradStatus(e.studentPen)}}},[e._v(" Save ")]),a("b-btn",{attrs:{size:"sm",variant:"outline-primary"},on:{click:e.cancelGradStatus}},[e._v(" Cancel ")])],1):e._e()]):e._e()],1),a("ul",[e.showEdit?e._e():a("li",[a("strong",[e._v("Program: ")]),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Tooltip directive content"}},[e._v(e._s(e.studentGradStatus.program))])]),e.showEdit?a("li",[a("strong",[e._v("Program:")]),a("b-input",{model:{value:e.editedGradStatus.program,callback:function(t){e.$set(e.editedGradStatus,"program",t)},expression:"editedGradStatus.program"}})],1):e._e(),e.showEdit?e._e():a("li",[a("strong",[e._v("Program completion date:")]),e._v(" "+e._s(e.studentGradStatus.programCompletionDate)+" ")]),e.showEdit?a("li",[a("strong",[e._v("Program completion date:")]),a("b-input",{attrs:{type:"date"},model:{value:e.editedGradStatus.programCompletionDate,callback:function(t){e.$set(e.editedGradStatus,"programCompletionDate",t)},expression:"editedGradStatus.programCompletionDate"}})],1):e._e(),a("li",[a("strong",[e._v("Student Status:")]),e._v(" "+e._s(e.studentGradStatus.studentStatus)+" ")]),e.studentGradStatus.studentGrade?a("li",[a("strong",[e._v("Student grade:")]),e._v(" "+e._s(e.studentGradStatus.studentGrade)+" ")]):e._e(),e.studentGradStatus.schoolOfRecord?a("li",[a("strong",[e._v("School of Record: ")]),a("span",{staticClass:"link",attrs:{href:"#",id:"popover-button-sync",variant:"primary"},on:{click:function(t){return e.getSchoolInfo(e.studentGradStatus.schoolOfRecord)}}},[e._v(" "+e._s(e.studentGradStatus.schoolOfRecord)+" ")]),a("b-popover",{attrs:{show:e.show,"boundary-padding":50,target:"popover-button-sync",title:"School Information"},on:{"update:show":function(t){e.show=t}}},[a("table",[a("tr",[a("td",[a("strong",[e._v("District:")]),e._v(" "+e._s(e.schoolInfo.districtName))])]),a("tr",[a("td",[a("strong",[e._v("School name:")]),e._v(" "),a("br"),e._v(" "+e._s(e.schoolInfo.schoolName))])]),a("tr",[a("td",[a("strong",[e._v("Status:")])])]),a("tr",[a("td",[a("strong",[e._v("Independent type:")]),e._v(" "+e._s(e.schoolInfo.independentDesignation))])]),a("tr",[a("td",[a("strong",[e._v("Independent affiliation:")])])]),a("tr",[a("td",[a("strong",[e._v("Transcript eligible:")]),e._v(" "+e._s(e.schoolInfo.transcriptEligibility))])]),a("tr",[a("td",[a("strong",[e._v("Dogwood eligibility:")]),e._v(" "+e._s(e.schoolInfo.certificateEligibility))])])])])],1):e._e(),e.studentGradStatus.studentGradData&&e.studentGradStatus.studentGradData.gradStudent.schoolOfRecord?a("li",[a("strong",[e._v("School at Graduation: ")]),e._v(" "+e._s(e.studentGradStatus.studentGradData.gradStudent.schoolOfRecord)+" ")]):e._e(),e.studentGradStatus.honoursStanding?a("li",[a("strong",[e._v("Honours:")]),e._v(" "+e._s(e.studentGradStatus.honoursStanding)+" ")]):e._e(),e.showEdit?e._e():a("li",[a("strong",[e._v("GPA:")]),e._v(" "+e._s(e.studentGradStatus.gpa)+" ")]),e.showEdit?a("li",[a("strong",[e._v("GPA:")]),a("b-input",{attrs:{size:"sm",max:"4",pattern:"^\\d*(\\.\\d{0,4})?$",type:"number"},model:{value:e.editedGradStatus.gpa,callback:function(t){e.$set(e.editedGradStatus,"gpa",t)},expression:"editedGradStatus.gpa"}})],1):e._e()])])])])])],1)],1)],1),e.studentGradStatus.studentGradData?a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[e.studentGradStatus.studentGradData.nonGradReasons?e._e():a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"text-left gov-btn",attrs:{block:"",variant:"info"}},[e._v(" Requirements not met (0)")]),e.studentGradStatus.studentGradData.nonGradReasons?a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"text-left gov-btn",attrs:{block:"",variant:"info"}},[e._v(" Requirements not met ("+e._s(e.studentGradStatus.studentGradData.nonGradReasons.length)+") ")]):e._e(),e.studentGradStatus.studentGradData.nonGradReasons?e._e():a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("ul",[a("li",[e._v("All graduation requirements have been met")])])])],1)],1),e.studentGradStatus.studentGradData.nonGradReasons?a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[e.studentGradStatus.studentGradData.nonGradReasons&&e.studentGradStatus.studentGradData.nonGradReasons.length?a("ul",{staticClass:"non-grad-reasons px-0"},e._l(e.studentGradStatus.studentGradData.nonGradReasons,(function(t){return a("li",{key:t.rule},[e._v(" "+e._s(t.description)+" (Rule "+e._s(t.rule)+") ")])})),0):e._e()])],1)],1):e._e()],1):e._e(),e.studentGradStatus.studentGradData?a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[e.studentGradStatus.studentGradData.requirementsMet?a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"text-left gov-btn",attrs:{block:"",variant:"info"}},[e._v(" Requirements met ("+e._s(e.studentGradStatus.studentGradData.requirementsMet.length)+" )")]):e._e(),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("ul",{staticClass:"requirements-met px-0"},e._l(e.studentGradStatus.studentGradData.requirementsMet,(function(t){return a("li",{key:t.rule},[a("i",{staticClass:"fas fa-check-circle text-success"}),e._v(" "),a("a",{attrs:{href:"#"},on:{click:function(a){return e.getCourseCompletedProgramCode(t.rule,e.studentGradStatus.studentGradData.studentCourses.studentCourseList)}}},[e._v(e._s(t.description)+" (Rule "+e._s(t.rule)+")")])])})),0)])],1)],1)],1):e._e()],1):e._e()],1)},Le=[];const Me=c.a.create({baseURL:"/api/graduation-common"});var Ue={getAchievementReport(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t,responseType:"arraybuffer"};return Me.get("/api/v1/common/studentreport/?pen="+e+"&reportType=ACHV",{headers:a,responseType:"arraybuffer"})},getStudentTranscript(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t,responseType:"arraybuffer"};return Me.get("/api/v1/common/studentreport/?pen="+e+"&reportType=TRAN",{headers:a,responseType:"arraybuffer"})}};const je=c.a.create({baseURL:"/api-graduation"});var He={graduateStudent(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return je.get("/api/v1/graduate/pen/"+e,{headers:a})}};const $e=c.a.create({baseURL:"/api/school"});var Fe={getSchoolInfo(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return $e.get("/api/v1/school/"+e,{headers:a})},getAllSchools(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return $e.get("/api/v1/school/",{headers:t})},searchSchools(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};let s="";for(var r in e)e[r]&&(s+=r+"="+e[r]+"&");return s=s.slice(0,-1),$e.get("/api/v1/school/search?"+s,{headers:a})}},Be={name:"StudentGraduationStatus",computed:{...Object(r["b"])({studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",studentPen:"getStudentPen",studentFullName:"getStudentFullName",token:"getToken",role:"getRoles"})},data(){return{dismissSecs:3,dismissCountDown:0,showModal:!1,showTop:!1,showEdit:!1,show:!1,projectedStudentGradStatus:[],updateStatus:[],schoolInfo:"",programDropdownList:[],editedGradStatus:{createdBy:"",createdTimestamp:"",updatedBy:"",updatedTimestamp:"",pen:"",program:"TEST",programCompletionDate:null,gpa:"",honoursStanding:null,recalculateGradStatus:null,schoolOfRecord:"",studentGrade:""}}},created(){this.programDropdownList=this.$store.dispatch("getGraduationPrograms")},methods:{makeToast(e=null,t){this.$bvToast.toast(t,{title:"Variant "+(e||"default"),variant:e,solid:!0,autoHideDelay:5e3})},editGradStatus(){this.showEdit=!0,this.editedGradStatus.pen=this.studentGradStatus.pen,this.editedGradStatus.program=this.studentGradStatus.program,this.editedGradStatus.gpa=this.studentGradStatus.gpa,this.editedGradStatus.programCompletionDate=this.studentGradStatus.programCompletionDate},cancelGradStatus(){this.showEdit=!1},countDownChanged(e){this.dismissCountDown=e},saveEditedGradStatus(e){ce.editGraduationStatus(e,this.token,this.editedGradStatus).then(e=>{this.updateStatus=e.data,this.studentGradStatus.program=this.editedGradStatus.program,this.studentGradStatus.gpa=this.editedGradStatus.gpa,this.showTop=!this.showTop,this.showEdit=!1,this.makeToast("success","Grad Status Saved")}).catch(e=>{this.makeToast("danger","There was an error: "+e.response.data.messages[0].message)})},popClose(){this.show=!1},getSchoolInfo(e){Fe.getSchoolInfo(e,this.token).then(e=>{this.schoolInfo=e.data}).catch(e=>{console.log("There was an error:"+e.response)})},projectGraduationStatus(e){ce.getGraduationStatus(e,this.token).then(e=>{this.projectedStudentGradStatus=e.data,this.projectedStudentGradStatus.studentGradData=JSON.parse(this.projectedStudentGradStatus.studentGradData),this.$bvModal.show("modal-1"),this.showModal=!0}).catch(e=>{console.log("There was an error:"+e.response)})},updateGraduationStatus:function(e){He.graduateStudent(e,this.token).then(e=>{this.$store.dispatch("setStudentGradStatus",e.data)}).catch(e=>{console.log("There was an error:"+e.response)})},getStudentAchievementReportPDF:function(){Ue.getAchievementReport(this.studentGradStatus.pen,this.token).then(e=>{const t=new Blob([e.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{const e=URL.createObjectURL(t);window.open(e)}}).catch(e=>{})},getStudentTranscriptPDF:function(){Ue.getStudentTranscript(this.studentGradStatus.pen,this.token).then(e=>{const t=new Blob([e.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{const e=URL.createObjectURL(t);window.open(e)}}).catch(e=>{})}}},Ve=Be,qe=(a("a3d0"),Object(b["a"])(Ve,De,Le,!1,null,"5a9318bd",null)),ze=qe.exports,Ye={name:"studentProfile",created(){const e=this.$route.params.pen;this.loadStudent(e),this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width<960&&(this.smallScreen=!0),window.addEventListener("resize",this.handleResize),this.handleResize()},components:{SiteMessage:ve,StudentCourses:Ae,StudentInfo:Re,StudentAssessments:Ie,StudentGraduationStatus:ze},props:{pen:{type:String}},data(){return{show:!1,opened:[],displayMessage:null,smallScreen:!1,window:{width:0,height:0},courseViewMode:"showAllCourses"}},computed:{...Object(r["b"])({profile:"getStudentProfile",courses:"getStudentCourses",studentFullName:"getStudentFullName",assessments:"getStudentAssessments",studentHasCourses:"studentHasCourses",studentHasAssessments:"studentHasAssessments",gradInfo:"getStudentGraduationCreationAndUpdate",hasGradStatus:"studentHasGradStatus",studentGradStatus:"getStudentGradStatus",token:"getToken"})},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{closeRecord:function(){this.$store.commit("unsetStudent"),this.$router.push({name:"student-search"})},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width<992?this.smallScreen=!0:this.smallScreen=!1},loadStudent(e){q.getStudentByPen(e,this.token).then(e=>{this.$store.dispatch("setStudentProfile",e.data)}).catch(e=>{e.response.status&&this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})}),le.getStudentAssessment(e,this.token).then(e=>{this.$store.dispatch("setStudentAssessments",e.data)}).catch(e=>{e.response.status&&this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})}),ce.getGraduationStatus(e,this.token).then(e=>{this.$store.dispatch("setStudentGradStatus",e.data)}).catch(e=>{e.response.status&&this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})}),ne.getStudentCourseAchievements(e,this.token).then(e=>{this.$store.dispatch("setStudentCourses",e.data)}).catch(e=>{e.response.status&&this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})})}}},Ke=Ye,We=(a("798e"),Object(b["a"])(Ke,se,re,!1,null,"6245c157",null)),Je=We.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Courses")]),a("div",[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Course search",active:""}},[a("b-card-text",[a("div",{staticClass:"row col-12"},[a("label",{staticClass:"float-left w-100"},[e._v("Search by course code:")]),a("b-input",{staticClass:"col-10 my-2",attrs:{placeholder:""},model:{value:e.courseCode,callback:function(t){e.courseCode=t},expression:"courseCode"}}),a("b-button",{staticClass:"m-2",attrs:{variant:"primary"},on:{click:e.getAllCourses}},[e._v("Search")])],1),a("DisplayTable",{attrs:{title:"Courses",items:e.courses,fields:e.courseFields,id:"courseCode",role:e.role}})],1)],1),a("b-tab",{attrs:{title:"Course restrictons"}},[a("b-card-text",[a("DisplayTable",{attrs:{title:"Course restriction",items:e.courseRestrictions,fields:e.courseRestrictionFields,id:"courseRestrictionId",create:"createCourseRestriction",delete:"deleteCourseRestriction",update:"updateCourseRestriction"}})],1)],1)],1)],1)],1)])},Qe=[];const Ze=c.a.create({baseURL:"/api/course"});var et={getCourses(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return Ze.get("/api/v1/course/"+e,{headers:a})},getAllCourses(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return Ze.get("/api/v1/course/",{headers:t})},getCourseRestrictions(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return Ze.get("/api/v1/course/courserestrictionsearch",{headers:t})},getCourseRestriction(e,t,a){const s={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+a};return Ze.get("/api/v1/course/courserestrictionsearch?mainCourseLevel="+e+"&mainCourseCode="+t,{headers:s})}},tt={name:"courses",components:{DisplayTable:X},data(){return{courses:{},courseRestrictions:[],courseFields:[{key:"more",label:"More"},{key:"courseCode",label:"Course code",sortable:!0,sortDirection:"desc"},{key:"courseName",label:"Course name",sortable:!0,class:"text-center"},{key:"startDate",label:"Start date",sortable:!0,sortDirection:"desc"},{key:"endDate",label:"End date",sortable:!0,class:"text-center"},{key:"workExpFlag",label:"Start date",sortable:!0,sortDirection:"desc"},{key:"genericCourseType",label:"End date",sortable:!0,class:"text-center"}],courseRestrictionFields:[{key:"more",label:"More"},{key:"mainCourse",label:"Course",sortable:!0,class:"text-left",editable:!0},{key:"restrictedCourse",label:"Restricted course",sortable:!0,class:"text-left",sortDirection:"desc",editable:!0},{key:"restrictedCourseLevel",label:"Course level",sortable:!0,class:"text-left",editable:!0},{key:"restrictionStartDate",label:"Start date",sortable:!0,class:"text-left",sortDirection:"desc",editable:!0},{key:"restrictionEndDate",label:"End date",sortable:!0,class:"text-left",editable:!0}],courseCode:"",show:!1,displayMessage:null}},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},created(){this.getAllCourses(),this.getAllCourseRestrictions()},methods:{searchCourseByCourseCode(){et.getCourses(this.courseCode,this.token).then(e=>{this.courses=e.data}).catch(e=>{console.log("There was an error:"+e)})},getAllCourses(){et.getAllCourses(this.token).then(e=>{this.courses=e.data}).catch(e=>{this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})})},getAllCourseRestrictions(){et.getCourseRestrictions(this.token).then(e=>{this.courseRestrictions=e.data}).catch(e=>{this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})})},getAllCourseRestriction(e,t){et.getCourseRestriction(e,t,this.token).then(e=>{this.courseRestrictions=e.data}).catch(e=>{this.$bvToast.toast("ERROR "+e.response.statusText,{title:"ERROR"+e.response.status,variant:"danger",noAutoHide:!0})})}}},at=tt,st=(a("1c17"),Object(b["a"])(at,Xe,Qe,!1,null,"03e9e9dc",null)),rt=st.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("School search")]),a("b-container",{staticClass:"my-4"},[a("b-row",{staticClass:"row-eq-height",attrs:{"align-v":"stretch"}},[a("b-col",[a("label",{staticClass:"float-left",attrs:{for:"city"}},[e._v("City")]),a("b-input",{attrs:{placeholder:"",id:"city"},model:{value:e.search.city,callback:function(t){e.$set(e.search,"city",t)},expression:"search.city"}})],1),a("b-col",[a("label",{staticClass:"w-100",attrs:{for:"school name"}},[e._v("School name")]),a("b-input",{attrs:{id:"school name",placeholder:""},model:{value:e.search.schoolName,callback:function(t){e.$set(e.search,"schoolName",t)},expression:"search.schoolName"}})],1),a("b-col",[a("label",{staticClass:"w-100",attrs:{for:"district name"}},[e._v("District name")]),a("b-input",{attrs:{id:"district name",placeholder:""},model:{value:e.search.districtName,callback:function(t){e.$set(e.search,"districtName",t)},expression:"search.districtName"}})],1),a("b-col",{attrs:{"align-self":"baseline"}},[a("label",{staticClass:"w-100 h-100"},[e._v(" "),a("br")]),a("b-button",{attrs:{variant:"primary",type:"submit"},on:{click:e.searchSchools}},[e._v(" Search ")])],1)],1)],1),e.schools?a("table",{staticClass:"table table-striped"},[e._m(0),a("tbody",e._l(e.schools,(function(t){return a("tr",{key:t.minCode},[a("td",[e._v(e._s(t.minCode))]),a("td",[e._v(e._s(t.schoolName))]),a("td",[e._v(e._s(t.districtName))])])})),0)]):e._e()],1)},nt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Mincode")]),a("th",[e._v("School name")]),a("th",[e._v("District name")])])])}],it={name:"schools",components:{},data(){return{schools:{},search:{city:"",schoolName:"",districtName:""},show:!1,displayMessage:null}},computed:{...Object(r["b"])({token:"getToken"})},created(){this.getAllSchools()},methods:{getAllSchools(){Fe.getAllSchools(this.token).then(e=>{this.schools=e.data}).catch(e=>{console.log("There was an error adding School information to Grad Status:"+e.response)})},searchSchools(){this.schools={},Fe.searchSchools(this.search,localStorage.getItem("jwt")).then(e=>{this.schools=e.data}).catch(e=>{console.log("There was an error adding School information to Grad Status:"+e.response)})}}},lt=it,dt=(a("efb2"),Object(b["a"])(lt,ot,nt,!1,null,"42872def",null)),ct=dt.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Post Secondary Institutions")]),e._l(e.psi,(function(t){return a("b-card",{key:t.message,staticClass:"my-2",attrs:{"sub-title":""}},[a("b-card-text",[a("div",{staticClass:"row col-12"},[a("div",{staticClass:"col-12"},[a("h2",[e._v(e._s(t.psiName))])]),a("div",{staticClass:"address col-3"},[a("strong",[e._v("Address:")]),a("br"),a("div",{staticClass:"pl-3"},[e._v(" "+e._s(t.address1)),a("br"),e._v(" "+e._s(t.postal)),a("br"),e._v(" "+e._s(t.city)+","+e._s(t.provinceCode)),a("br"),e._v(" Country Code: "+e._s(t.countryCode)+" ")]),a("div",[a("strong",[e._v("Contact:")]),a("br"),a("strong",[e._v("Fax:")]),e._v(" "+e._s(t.fax)),a("br"),a("strong",[e._v("Phone:")]),e._v(" "+e._s(t.phone1)),a("br")])]),a("div",[a("strong",[e._v("School Information:")]),a("div",{staticClass:"pl-3"},[e._v(" CSL Code: "+e._s(t.cslCode)),a("br"),e._v(" Attention Name: "+e._s(t.attentionName)),a("br"),e._v(" Open: "+e._s(t.openFlag)),a("br"),e._v(" Transmission Mode: "+e._s(t.transmissionMode)),a("br"),e._v(" PSI Grouping: "+e._s(t.psiGrouping)),a("br"),e._v(" Code: "+e._s(t.psiCode)),a("br")," "!=t.psiUrl?a("div",[a("b-link",{staticClass:"btn btn-primary",attrs:{href:t.psiUrl}},[e._v("Website")])],1):e._e()])])])])],1)}))],2)},pt=[];const mt=c.a.create({baseURL:"/api/psi"});var ht={getPSI(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return mt.get("/api/v1/psi",{headers:t})}},gt={name:"psi",components:{},data(){return{psi:{},psiFields:["psiName","address1","city","provinceCode","countryCode","attentionName","transmissionMode"]}},computed:{...Object(r["b"])({token:"getToken"})},created(){ht.getPSI(this.token).then(e=>{this.psi=e.data}).catch(e=>{console.log("There was an error adding psi information:"+e.response)})},methods:{}},vt=gt,bt=(a("5deb"),Object(b["a"])(vt,ut,pt,!1,null,"56df04f6",null)),_t=bt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test"},[a("DisplayTable",{attrs:{items:e.courses,fields:e.fields}}),a("DisplayTable",{attrs:{items:e.items,fields:e.fields2}})],1)},St=[],Ct={name:"test",data(){return{items:[{isActive:!0,age:40,name:{first:"Dickerson",last:"Macdonald"}},{isActive:!0,age:40,name:{first:"Dickerson",last:"Macdonald"}},{isActive:!1,age:21,name:{first:"Larsen",last:"Shaw"}},{isActive:!1,age:9,name:{first:"Mini",last:"Navarro"},_rowVariant:"success"},{isActive:!1,age:89,name:{first:"Geneva",last:"Wilson"}},{isActive:!0,age:38,name:{first:"Jami",last:"Carney"}},{isActive:!1,age:27,name:{first:"Essie",last:"Dunlap"}},{isActive:!0,age:40,name:{first:"Thor",last:"Macdonald"}},{isActive:!0,age:87,name:{first:"Larsen",last:"Shaw"},_cellVariants:{age:"danger",isActive:"warning"}},{isActive:!1,age:26,name:{first:"Mitzi",last:"Navarro"}},{isActive:!1,age:22,name:{first:"Genevieve",last:"Wilson"}},{isActive:!0,age:38,name:{first:"John",last:"Carney"}},{isActive:!1,age:29,name:{first:"Dick",last:"Dunlap"}}],fields2:[{key:"name",label:"Person full name",sortable:!0,sortDirection:"desc"},{key:"age",label:"Person age",sortable:!0,class:"text-center"},{key:"isActive",label:"Is Active",formatter:e=>e?"Yes":"No",sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Actions"}],fields:[{key:"courseCode",label:"Course Code",sortable:!0,sortDirection:"desc"},{key:"codeLevel",label:"Code Level",sortable:!0,class:"text-center"},{key:"sessionDate",label:"Session Date",sortable:!0,sortDirection:"desc"},{key:"courseName",label:"Course Name",sortable:!0,class:"text-center"},{key:"courseEquivChal",label:"Course Equivalent Challenge",sortable:!0,sortDirection:"desc"},{key:"credits",label:"Credits",sortable:!0,class:"text-center"},{key:"interimLetterGrade",label:"Intermediate Letter Grade",sortable:!0,sortDirection:"desc"},{key:"completedCoursePercentage",label:"Completed Course Percentage"},{key:"isActive",label:"Is Active",formatter:e=>e?"Yes":"No",sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Actions"}]}},created(){},methods:{},computed:{...Object(r["b"])({courses:"getStudentCourses",gradStatusCourses:"gradStatusCourses",studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",gradStatusPendingUpdates:"getHasGradStatusPendingUpdates"})},components:{DisplayTable:X}},At=Ct,Pt=(a("b074"),Object(b["a"])(At,ft,St,!1,null,"063f49a1",null)),yt=Pt.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Program management")]),a("p",[e._v(" Manage graduation settings (Admin Access Required)")]),a("div",[a("b-card",{attrs:{title:"Program Management","no-body":""}},[a("b-card-header",{staticClass:"p-3",attrs:{"header-tag":"nav"}},[a("b-nav",{attrs:{"card-header":"",tabs:""}},[a("b-nav-item",{attrs:{to:"/admin-graduation-programs/programs",active:1===e.tab},on:{click:function(t){e.tab=1}}},[e._v(" Programs")]),a("b-nav-item",{attrs:{to:"/admin-graduation-programs/special-programs",active:2===e.tab},on:{click:function(t){e.tab=2}}},[e._v(" Special programs")]),a("b-nav-item",{attrs:{active:3===e.tab},on:{click:function(t){e.tab=3}}},[e._v("Letter grades")]),a("b-nav-item",{attrs:{active:4===e.tab},on:{click:function(t){e.tab=4}}},[e._v("Special cases")])],1)],1),a("b-card-body",[a("b-card-text",[a("router-view",{key:e.$route.fullPath})],1)],1)],1)],1)])},wt=[],Tt={name:"graduationPrograms",components:{},data(){return{tab:1,show:!1,opened:[],displayMessage:null}},computed:{},created(){},methods:{}},Rt=Tt,Et=(a("203d"),Object(b["a"])(Rt,kt,wt,!1,null,"f5df8fda",null)),Ot=Et.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Rule "+e._s(e.selectedRule))]),e._l(e.graduationProgramRuleCourses,(function(t){return a("div",{key:t.requirementName},[e._v(" "+e._s(t.ruleCode)+" "+e._s(t.requirementName)+" "+e._s(t.programCode)+" "+e._s(t.specialProgramCode)+" ")])}))],2)},Gt=[];const xt=c.a.create({baseURL:"/api/program-management"});var It={getLetterGrades(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return xt.get("/api/v1/programmanagement/lettergrade",{headers:t})},getSpecialCases(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return xt.get("/api/v1/programmanagement/specialcase",{headers:t})},getGraduationPrograms(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return xt.get("/api/v1/programmanagement/programs",{headers:t})},getGraduationProgramRuleCourses(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.get("/api/v1/programmanagement/programrules/"+e,{headers:a})},getProgramRules(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return xt.get("/api/v1/programmanagement/allprogramrules",{headers:t})},getProgramRule(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.get("/api/v1/programmanagement/programrules?programCode="+e,{headers:a})},getGraduationProgramSets(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.get("/api/v1/programmanagement/specialprograms/"+e,{headers:a})},getSpecialProgram(e){const t={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return xt.get("/api/v1/programmanagement/specialprograms",{headers:t})},getSpecialProgramRule(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.get("/api/v1/programmanagement/specialprogramrules?specialProgramID="+e,{headers:a})},createProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.post("/api/v1/programmanagement/programs",e,{headers:a})},deleteProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.delete("/api/v1/programmanagement/programs/"+e,{headers:a})},updateProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.put("/api/v1/programmanagement/programs",e,{headers:a})},createSpecialProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.post("/api/v1/programmanagement/specialprograms",e,{headers:a})},deleteSpecialProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.delete("/api/v1/programmanagement/specialprograms/"+e,{headers:a})},updateSpecialProgram(e,t){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return xt.put("/api/v1/programmanagement/specialprograms",e,{headers:a})}},Dt={name:"GraduationProgramCourses",props:{},components:{},computed:{...Object(r["b"])({token:"getToken"})},data:function(){return{opened:[],selectedRule:"",graduationProgramRuleCourses:[]}},created(){this.selectedRule=this.$route.params.rule,It.getGraduationProgramRuleCourses(this.$route.params.rule,this.token).then(e=>{this.graduationProgramRuleCourses=e.data})},methods:{}},Lt=Dt,Mt=(a("52a3"),Object(b["a"])(Lt,Nt,Gt,!1,null,null,null)),Ut=Mt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.graduationProgramRules.length?e._e():a("b-spinner",{attrs:{label:"Loading"}},[e._v("Loading")]),e.selectedProgramCode?e._e():a("div",[a("DisplayTable",{attrs:{items:e.graduationProgramRules,title:"Program",fields:e.graduationProgramsFields,id:"programCode",role:e.role,slots:e.templates,showFilter:"true"},scopedSlots:e._u([{key:"cell(ruleCode)",fn:function(t){return[a("b-btn",{staticStyle:{color:"#666"},attrs:{variant:"outline primary",size:"xs"},on:{click:t.toggleDetails}},[a("a",[e._v(e._s(t.item.ruleCode))])])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("table",[a("tr",[a("td",[e._v("CODE LVL")])]),a("tr",[a("td",[e._v("CODE LVL")])]),a("tr",[a("td",[e._v("CODE LVL")])]),a("tr",[a("td",[e._v("CODE LVL")])]),a("tr",[a("td",[e._v("CODE LVL")])])])])]}}],null,!1,159983988)})],1),a("router-view",{key:e.$route.fullPath})],1)},Ht=[],$t={name:"GraduationPrograms",components:{DisplayTable:X},props:{},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},data:function(){return{show:!1,isHidden:!1,opened:[],graduationProgramRules:[],templates:[{name:"programCode",field:"programCode"}],graduationProgramsFields:[{key:"programCode",label:"Program Code",sortable:!0,sortDirection:"desc",editable:!0,class:""},{key:"ruleCode",label:"Rule #",sortable:!0,editable:!0,class:""},{key:"requirementName",label:"Requirement Name",sortable:!0,editable:!0,class:""},{key:"requiredCredits",label:"Required Credits",sortable:!0,editable:!0,class:""},{key:"notMetDesc",label:"Not Met Description",sortable:!0,editable:!0,class:""},{key:"requirementType",label:"Requirement Type",sortable:!0,editable:!0,class:""},{key:"requiredLevel",label:"Required Level",sortable:!0,editable:!0,class:""},{key:"languageOfInstruction",label:"Language",sortable:!0,editable:!0,class:""},{key:"isActive",label:"Active",sortable:!0,editable:!0,class:""}],selectedProgramCode:"",selectedProgramId:""}},created(){It.getProgramRules(this.token).then(e=>{this.graduationProgramRules=e.data}).catch(e=>{console.log("There was an error:"+e.response)})},methods:{onClickChild(e){this.selectedProgramId=e},selectGradRule(e){this.selectedProgramCode=e},resetProgramCode(){this.selectedProgramCode=""},getCourseName:function(e){let t="";return this.courses.filter((function(a){if(a.id===e)return t=a.name,t})),t}}},Ft=$t,Bt=(a("5586"),Object(b["a"])(Ft,jt,Ht,!1,null,null,null)),Vt=Bt.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.graduationSpecialPrograms.length?e._e():a("b-spinner",{attrs:{label:"Loading"}},[e._v("Loading")]),a("DisplayTable",{attrs:{items:e.graduationSpecialPrograms,title:"Special Programs",fields:e.graduationSpecialProgramsFields,id:"id",role:e.role,create:"createSpecialProgram",delete:"deleteSpecialProgram",update:"updateSpecialProgram"}})],1)},zt=[],Yt={name:"GraduationSpecialProgram",props:{},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},components:{DisplayTable:X},data:function(){return{opened:[],graduationSpecialPrograms:[],selectedProgramId:"",selectedId:"",graduationSpecialProgramsFields:[{key:"programCode",label:"Program code",sortable:!0,sortDirection:"desc",editable:!0,class:"w-1"},{key:"specialProgramCode",label:"Special program code",sortable:!0,sortDirection:"desc",editable:!0,class:"w-1"},{key:"specialProgramName",label:"Special program name",sortable:!0,editable:!0}]}},created(){It.getSpecialProgram(this.token).then(e=>{this.graduationSpecialPrograms=e.data}).catch(()=>{})},methods:{onClickButton(e){this.$emit("clicked",e)},selectSpecialGradRule(e){this.selectedProgramId=e},resetProgramId(){this.selectedProgramId=""}}},Kt=Yt,Wt=(a("f98f"),Object(b["a"])(Kt,qt,zt,!1,null,null,null)),Jt=Wt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[e.graduationSpecialProgramRules.length?e._e():a("b-spinner",{attrs:{label:"Loading"}},[e._v("Loading")]),e.graduationSpecialProgramRules.length?e._e():a("div",[a("h2",[e._v("Loading")])]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:e.graduationSpecialProgramRules},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.displayData;return a("tbody",{},[e._l(s,(function(t){return[a("tr",{key:t.ruleCode,class:{opened:e.opened.includes(t.ruleCode)},on:{click:function(a){return e.toggle(t.ruleCode+t.requirementName)}}},[a("td",[e._v(e._s(t.ruleCode))]),a("td",[e._v(e._s(t.requirementName))]),a("td",[e._v(e._s(t.requiredCredits))]),a("td",[e._v(e._s(t.notMetDesc))]),a("td",[e._v(e._s(t.requirementType))]),a("td",[e._v(e._s(t.requiredLevel))]),a("td",[e._v(e._s(t.languageOfInstruction))]),a("td",[e._v(e._s(t.requirementDesc))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"ruleCode"}},[e._v("Rule #")]),a("v-th",{attrs:{sortKey:"requirementName"}},[e._v("Requirement Name")]),a("v-th",{attrs:{sortKey:"requiredCredits"}},[e._v("Required Credits")]),a("v-th",{attrs:{sortKey:"notMetDesc"}},[e._v("Not Met Description")]),a("v-th",{attrs:{sortKey:"requirementType"}},[e._v("Requirement Type")]),a("v-th",{attrs:{sortKey:"requiredLevel"}},[e._v("Required Level")]),a("v-th",{attrs:{sortKey:"languageOfInstruction"}},[e._v("Language of Instruction")]),a("v-th",{attrs:{sortKey:"requirementDesc"}},[e._v("Description")])],1)])],1)},Qt=[],Zt={name:"GraduationSpecialProgramRules",props:{},computed:{...Object(r["b"])({token:"getToken"})},data:function(){return{opened:[],graduationSpecialProgramRules:[],parentSelectedProgramCode:""}},created(){this.parentSelectedProgramCode=this.$parent.selectedProgramId,It.getSpecialProgramRule(this.parentSelectedProgramCode,this.token).then(e=>{this.graduationSpecialProgramRules=e.data}).catch(e=>{console.log("There was an error:"+e.response)})},methods:{}},ea=Zt,ta=(a("46d5"),Object(b["a"])(ea,Xt,Qt,!1,null,null,null)),aa=ta.exports;s["default"].use(E["a"]);const sa=[{path:"/login",name:"login",component:D,meta:{guest:!0}},{path:"/logout",name:"logout",component:$,meta:{guest:!0}},{path:"/",name:"student-search",component:ae,meta:{requiresAuth:!0}},{path:"/student-profile/:pen",name:"student-profile",component:Je,meta:{requiresAuth:!0}},{path:"/admin-graduation-programs",name:"admin-graduation-programs",component:Ot,children:[{path:"",component:Vt},{path:"programs/",component:Vt},{path:"program/:selectedProgramCode",component:Vt},{path:"program/:selectedProgramCode/:rule",component:Ut},{path:"special-programs/",component:Jt},{path:"special-programs/:selectedSpecialProgramCode",component:aa}],meta:{requiresAuth:!0},props:!0},{path:"/courses",name:"courses",component:rt,meta:{requiresAuth:!0}},{path:"/schools",name:"schools",component:ct,meta:{requiresAuth:!0}},{path:"/psi",name:"psi",component:_t,meta:{requiresAuth:!0}},{path:"/test",name:"test",component:yt,meta:{requiresAuth:!0}}],ra=new E["a"]({mode:"history",base:"/",routes:sa});ra.beforeEach((e,t,a)=>{e.matched.some(e=>e.meta.requiresAuth)&&null==localStorage.getItem("jwt")?a({path:"/logout",params:{nextUrl:e.fullPath}}):a()});var oa=ra,na=a("5f5b"),ia=a("51c2"),la=a("8b2a"),da=a("4380");s["default"].use(r["a"]);var ca=new r["a"].Store({init:{},state:{tokenTimeout:"",token:"",refreshToken:"",roles:"unauthenticated",student:{profile:{},courses:"not loaded",assessments:"not loaded",exams:"not loaded",gradStatus:"not loaded",hasExams:!1,hasAssessments:!1,hasCourses:!1,hasGradStatus:!1,hasgradStatusPendingUpdates:!1}},mutations:{setHasGradStatusPendingUpdates(e,t){e.student.hasGradStatusPendingUpdates=t},setToken(e,t){localStorage.setItem("jwt",t),e.token=t},setRefreshToken(e,t){localStorage.setItem("refresh",t),e.refreshToken=t},setStudentProfile(e,t){e.student.profile=t},setStudentCourses(e,t){e.student.courses=t,e.student.courses.length&&(e.student.hasCourses=!0)},setStudentGradStatus(e,t){e.student.gradStatus=t,e.student.gradStatus.studentGradData=JSON.parse(e.student.gradStatus.studentGradData),"not loaded"!=e.student.gradStatus&&(e.student.hasGradStatus=!0)},setStudentAssessments(e,t){e.student.assessments=t,e.student.assessments.length&&(e.student.hasAssessments=!0)},setStudentExams(e,t){e.student.exams=t,e.student.exams.length&&(e.student.hasExams=!0)},unsetStudent(e){e.student.profile={},e.student.courses="not loaded",e.student.assessments="not loaded",e.student.exams="not loaded",e.student.gradStatus="not loaded",e.student.hasExams=!1,e.student.hasAssessments=!1,e.student.hasCourses=!1,e.student.hasGradStatus=!1,e.student.hasgradStatusPendingUpdates=!1},setRoles(e,t){e.roles=t}},actions:{createProgram({state:e},t){It.createProgram(t,e.token).then(e=>"STORE REspsonse to display table"+e).catch(e=>{console.log(e.response.status)})},deleteProgram({state:e},t){It.deleteProgram(t,e.token).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.status)})},updateProgram({state:e},t){It.updateProgram(t,e.token).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.status)})},createSpecialProgram({state:e},t){It.createSpecialProgram(t,e.token).then(e=>"STORE REspsonse to display table"+e).catch(e=>{console.log(e.response.status)})},deleteSpecialProgram({state:e},t){It.deleteSpecialProgram(t,e.token).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.status)})},updateSpecialProgram({state:e},t){It.updateSpecialProgram(t,e.token).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.status)})},getGraduationPrograms({state:e}){It.getGraduationPrograms(e.token).then(e=>e.data).catch(e=>{console.log(e.response.status)})},setHasGradStatusPendingUpdates({commit:e},t){e("setHasGradStatusPendingUpdates",t)},setToken({commit:e},t){e("setToken",t)},setRefreshToken({commit:e},t){e("setRefreshToken",t)},setStudentProfile({commit:e},t){e("setStudentProfile",t[0])},setStudentCourses({commit:e},t){e("setStudentCourses",t)},setStudentAssessments({commit:e},t){e("setStudentAssessments",t)},setStudentExams({commit:e},t){e("setStudentExams",t)},setStudentGradStatus({commit:e},t){e("setStudentGradStatus",t)},setRoles({commit:e},t){console.log(t),e("setRoles",t)}},getters:{getStudentGraduationCreationAndUpdate(e){return{createdBy:e.student.gradStatus.createdBy,createdTimestamp:e.student.gradStatus.createdTimestamp,updatedBy:e.student.gradStatus.updatedBy,updatedTimestamp:e.student.gradStatus.updatedTimestamp}},getHasGradStatusPendingUpdates(e){return e.student.hasGradStatusPendingUpdates},getStudentProfile(e){return e.student.profile},getStudentFullName(e){return{legalLastName:e.student.profile.legalLastName,legalFirstName:e.student.profile.legalFirstName,legalMiddleNames:e.student.profile.legalMiddleNames,pen:e.student.profile.pen}},getStudentPen(e){return e.student.profile.pen},getStudentGradStatus(e){return e.student.gradStatus},getStudentCourses(e){return e.student.courses},getStudentExams(e){return e.student.exams},getStudentAssessments(e){return e.student.assessments},studentHasCourses(e){return e.student.hasCourses},studentHasExams(e){return e.student.hasExams},studentHasAssessments(e){return e.student.hasAssessments},studentHasGradStatus(e){return e.student.hasGradStatus},gradStatusCourses(e){return e.student.gradStatus.studentGradData.studentCourses.studentCourseList},getToken(e){return e.token},getRoles(e){return e.roles},isAdmin(e){return"administrator"==e.roles},isAuthenticated(e){return"authenticated"==e.roles}},modules:{}}),ua=(a("15f5"),a("7051"),a("b1e0")),pa=(a("8fde"),a("2dd8"),a("82cd"),a("aede"),a("b7cd"));s["default"].config.productionTip=!1;const ma={isEnabled:!0,logLevel:s["default"].config.productionTip?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};s["default"].use(T.a),s["default"].use(k.a,ma),s["default"].use(pa["a"]),s["default"].use(p.a),s["default"].use(la["a"]),s["default"].use(da["a"]),s["default"].use(r["a"]),s["default"].use(na["a"]),s["default"].use(ua["a"]),s["default"].use(ia["a"]);let ha={url:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",realm:"master",clientId:"educ-grad-school-api-service",onLoad:"login-required"},ga=R(ha);ga.init({onLoad:ha.onLoad,checkLoginIframe:!1}).success(e=>{e?s["default"].$log.info("Authenticated"):window.location.reload(),ca.dispatch("setToken",ga.token),ca.dispatch("setRefreshToken",ga.refreshToken),ca.dispatch("setRoles","administrator"),new s["default"]({router:oa,store:ca,render:e=>e(P)}).$mount("#app"),setInterval(()=>{ga.updateToken(70).success(e=>{e?(s["default"].$log.debug("Token refreshed"),ca.dispatch("setToken",ga.token),ca.dispatch("setRefreshToken",ga.refreshToken)):s["default"].$log.warn("Token not refreshed, valid for "+Math.round(ga.tokenParsed.exp+ga.timeSkew-(new Date).getTime()/1e3)+" seconds")}).error(()=>{s["default"].$log.error("Failed to refresh token")})},6e4)}).error(()=>{s["default"].$log.error("Authenticated Failed")})},"5deb":function(e,t,a){"use strict";var s=a("fc07"),r=a.n(s);r.a},"718c":function(e,t,a){},7554:function(e,t,a){},"798e":function(e,t,a){"use strict";var s=a("9da2"),r=a.n(s);r.a},"7f35":function(e,t,a){},"82cd":function(e,t,a){},"85ec":function(e,t,a){},"88ba":function(e,t,a){},"8ee6":function(e,t,a){},"967a":function(e,t,a){"use strict";var s=a("718c"),r=a.n(s);r.a},"9da2":function(e,t,a){},a1f3:function(e,t,a){},a3d0:function(e,t,a){"use strict";var s=a("ec64"),r=a.n(s);r.a},ae84:function(e,t,a){},aede:function(e,t,a){},b074:function(e,t,a){"use strict";var s=a("8ee6"),r=a.n(s);r.a},b5ff:function(e,t,a){},bc40:function(e,t,a){"use strict";var s=a("d472"),r=a.n(s);r.a},c486:function(e,t,a){},d472:function(e,t,a){},e072:function(e,t,a){},e7b1:function(e,t,a){"use strict";var s=a("e072"),r=a.n(s);r.a},ec64:function(e,t,a){},efb2:function(e,t,a){"use strict";var s=a("b5ff"),r=a.n(s);r.a},f4dc:function(e,t,a){"use strict";var s=a("fb0d"),r=a.n(s);r.a},f98f:function(e,t,a){"use strict";var s=a("c486"),r=a.n(s);r.a},fb0d:function(e,t,a){},fc07:function(e,t,a){},fe78:function(e,t,a){"use strict";var s=a("a1f3"),r=a.n(s);r.a}});
//# sourceMappingURL=app.f3693881.js.map